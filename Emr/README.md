#  EMR 클러스터 관리 람다 함수


AWS Lambda를 사용하여 EMR 클러스터를 시작하고, Spark 작업을 제출하며, 처리된 결과를 RDS로 전송하는 기능을 포함합니다. 클러스터 설정에는 부트스트랩 작업이 포함되어 있어, 클러스터 환경을 초기화하고 필요한 라이브러리를 자동으로 설치합니다.

## 주요 구성 요소

- **EMR 클러스터**: 대규모 데이터 처리를 위한 Apache Spark 실행 환경 제공.
- **Bootstrap 작업**: 클러스터 시작 시 자동으로 실행되어 필요한 환경 설정 및 라이브러리 설치를 수행.
- **Spark 작업**: `Data_processing.py` 스크립트를 사용하여 데이터를 전처리하고 변환.
- **S3 버킷**: 데이터 파일 저장 및 임시 결과 저장소로 사용.
- **RDS**: 최종 처리 결과를 저장하여 분석과 비즈니스 의사결정에 활용.

## Lambda 함수 역할

- **lambda_emr**: EMR 클러스터 시작, 부트스트랩 작업 적용, Spark 작업 제출.
- **lambda_start**: Spark 작업 완료 후 EMR 클러스터 종료 및 RDS에 결과 저장.

## 사용 모듈

- `boto3`: AWS 리소스 관리 (EMR, S3).
- `pymysql`: RDS에 연결하여 데이터베이스 작업 수행.
- `pandas`: 데이터프레임 형식으로 CSV 파일 처리.
- `SQLAlchemy`: RDS에 데이터를 효율적으로 삽입.

##  실행 방법

1. **람다 함수 배포**: `lambda_emr`와 `lambda_start` 함수를 AWS Lambda에 업로드하고 배포합니다.
2. **환경 변수 설정**: S3 버킷 이름, RDS 접속 정보 등 필요한 환경 변수를 Lambda 설정에서 구성합니다.
3. **EMR 클러스터 설정**:
   - 부트스트랩 스크립트를 사용해 클러스터 시작 시 필요한 설정과 라이브러리를 자동으로 적용합니다.
4. **람다 함수 실행**: 
   - `lambda_emr`를 실행하여 EMR 클러스터를 시작하고 데이터를 처리합니다.
   - 작업 완료 후 `lambda_start`가 클러스터를 종료하고 RDS로 결과를 전송합니다.


> **Note**: 이 프로젝트는 AWS 리소스에 대한 적절한 IAM 권한이 필요합니다. 필요한 권한을 확인하고 설정해 주세요.
